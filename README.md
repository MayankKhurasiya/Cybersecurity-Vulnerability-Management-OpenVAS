<h1>Cybersecurity Vulnerability Management Project Using OpenVAS</h1>


<h2>Description:</h2>
Implemented a Cybersecurity Vulnerability Management Project focusing on setting up a secure Azure network with an OpenVAS Vulnerability Management Scanner VM. Developed a Vulnerable Windows 10 VM on the Microsoft Azure portal, featuring outdated software and disabled security controls. Conducted both unauthenticated and credentialed vulnerability scans using OpenVAS, analyzing the results to illustrate the differences between the two types of scans. Remediated identified vulnerabilities and verified successful remediation through subsequent scans. Additionally, created a list of remediable vulnerabilities to simulate realistic vulnerability remediation scenarios.
<br />


<h2>The tools used in this project include:</h2>

- <b>Microsoft Azure: Cloud platform used to set up a secure network environment and deploy the Vulnerable Windows 10 VM.</b>
- <b>OpenVAS: Vulnerability Management Scanner used for conducting vulnerability scans.</b>
- <b>Old version of Firefox Browser, VLC media player, Adobe Reader.</b>


<h2>Program walk-through:</h2>

<h3>Create Free Azure Account:</h3>
- Sign up: https://azure.microsoft.com/en-us/free/ <br />
- Login: https://portal.azure.com 

<h3>Prepare Vulnerability Management Scanner:</h3>

<p align="left">
https://portal.azure.com → Go to the Marketplace → “OpenVAS secured and supported by HOSSTED”: <br/>
<img src="https://i.imgur.com/8p3iyT7.png" height="80%" width="90%" alt="Cybersecurity Vulnerability Management"/>
<br />
<br />
“Start with a pre-set configuration” → Pick the weakest one:  <br/>
<img src="https://i.imgur.com/nnNtmqd.png" height="80%" width="90%" alt="Cybersecurity Vulnerability Management"/>
<br />
<br />
“Continue to Create VM”
- Resource Group: Vulnerability-Management
- VM Name: OpenVAS (Take note of the region and Vnet–consider East US 2): <br/>
<img src="https://i.imgur.com/J88QLii.png" height="80%" width="90%" alt="Cybersecurity Vulnerability Management"/>
<br />
<br />
Authentication: Username → azureuser / Cyberlab123!:  <br/>
<img src="https://i.imgur.com/ByflVsY.png" height="80%" width="90%" alt="Cybersecurity Vulnerability Management"/>
<br />
<br />
Monitoring: Disable Boot Diagnostic (don’t need it):  <br/>
<img src="https://i.imgur.com/b4hsqkI.png" height="80%" width="90%" alt="Cybersecurity Vulnerability Management"/>
<br />
<br />
Click create:  <br/>
<img src="https://i.imgur.com/Kls7BMk.png" height="80%" width="90%" alt="Cybersecurity Vulnerability Management"/>
<br />
<br />
After the VM has been created, SSH into it With PowerShell (windows VM) or Terminal (MacOS) using the credentials you created earlier
ssh azureuser@172.203.88.119 (this is your OpenVAS public IP which you have created in Azure portal)
password: Cyberlab123!
	
Don’t touch anything, you’ll notice the “Your openvas is deploying, please wait”:  <br/>
<img src="https://i.imgur.com/3hONr8r.png" height="80%" width="90%" alt="Cybersecurity Vulnerability Management"/>
<br />
<br />
Your openvas is available under  https://172.203.88.119.c.hossted.com
Username is admin and password is 4547b38f-bea1-4312-baf0-5262a1f14549 (sometime admin also works)  <br/>
<img src="https://i.imgur.com/I2JEeDp.png" height="80%" width="90%" alt="Cybersecurity Vulnerability Management"/>
<br />
<h3>Create Client Virtual Machine and Make it Vulnerable:</h3>
- https://portal.azure.com/ <br />
- Search for Virtual Machines and create a new Virtual Machine <br />
	- Resource Group: Vulnerability-Management <br />
	- VM Name: Win10-Vulnerable <br />
	- Region: Same as the OpenVAS VM (East US 2) <br />
	- Virtual Network: Same as OpenVAS (this is important) <br />
	- Image: Windows 10 Pro:  <br/>
<img src="https://i.imgur.com/Ivu0dRl.png" height="80%" width="90%" alt="Cybersecurity Vulnerability Management"/>
<br />
	- Size: Any size with 2 vCPUs <br />
	- Username: azureuser / Cyberlab123! <br />
	- Networking: Same Vnet as OpenVAS <br />
	- Create the VM:  <br/>
<img src="https://i.imgur.com/P8wyWYf.png" height="80%" width="90%" alt="Cybersecurity Vulnerability Management"/>
<br />
After the VM has been created, ensure you can RDP into it with the credentials you created. <br />
20.186.20.70 <br />
azureuser <br />
Cyberlab123!  <br/>
<img src="https://i.imgur.com/rZscKTO.png" height="80%" width="90%" alt="Cybersecurity Vulnerability Management"/>
<br />
After logging in, make the VM vulnerable: <br />
	- Disable the Windows Firewall <br/>
<img src="https://i.imgur.com/Qn86oMX.png" height="80%" width="90%" alt="Cybersecurity Vulnerability Management"/>
<br />
- Old Software <br />
	- Install an Old Version of FireFox: Firefox Setup 97.0b5 <br />
	- Install an Old Version of VLC Player: vlc-1.1.7-win32 <br />
	- Install an Old Version of Adobe Reader: 10.0_AdbeRdr1000_en_US_1_  <br/>
<img src="https://i.imgur.com/wjQdrp6.png" height="80%" width="90%" alt="Cybersecurity Vulnerability Management"/>
<br />
	- Restart the VM <br />
	- Leave the VM for now <br />

<h3>Configure OpenVAS to Perform First Unauthenticated Scan against our Vulnerable VM:</h3>
Login to OpenVAS → Assets → Hosts → New Host <br />
	- Add the Client VM PRIVATE IP Address:  <br/>
<img src="https://i.imgur.com/P8TJlD1.png" height="80%" width="90%" alt="Cybersecurity Vulnerability Management"/>
<br />
Create a New Target from the Host, name it “Azure Vulnerable VMs”. <br />
	- Take note of the credentials. We will add SMB credentials later. <br/>
<img src="https://i.imgur.com/RbvDf6c.png" height="80%" width="90%" alt="Cybersecurity Vulnerability Management"/>
<br />
Create a new Task <br />
	- Name & Comment: “Scan - Azure Vulnerable VMs” <br />
	- Scan Targets → “Azure Vulnerable VMs” <br />
	- Save the Task  <br/>
<img src="https://i.imgur.com/jsLktMD.png" height="80%" width="90%" alt="Cybersecurity Vulnerability Management"/>
<br />
“Start” the “Scan - Azure Vulnerable VMs” Task <br />
Take note of the Status:  <br/>
<img src="https://i.imgur.com/Ahx4NaO.png" height="80%" width="90%" alt="Cybersecurity Vulnerability Management"/>
<br />
Once the scan is finished, click the date under “Last Report” to see the results <br />
	- Take note of Tabs, specifically the “Results” tab. Even though we installed a super old version of Firefox, note that it does not show up here. <br />
	- Note that this is because we aren’t running a credentialed scan so the scanner could not discover it. We will configure credential scans next.  <br/>
<img src="https://i.imgur.com/ZM7viKk.png" height="80%" width="90%" alt="Cybersecurity Vulnerability Management"/>

<h3>Disable Windows 10 VM Firewall:</h3>
	- login into win 10 through Remote desktop <br />
	- Disable Windows Firewall <br />
	- Disable User Account Control  <br/>
<img src="https://i.imgur.com/MAvyFk7.png" height="80%" width="90%" alt="Cybersecurity Vulnerability Management"/>
<br />
Enable Remote Registry (services.msc):  <br/>
<img src="https://i.imgur.com/QThxhO9.png" height="80%" width="90%" alt="Cybersecurity Vulnerability Management"/>
<br />
Set Registry Key (regedit) <br />
	- Launch Registry Editor (regedit.exe) in “Run as administrator” mode and grant Admin Approval, if requested <br />
	- Navigate to HKEY_LOCAL_MACHINE hive <br />
	- Open SOFTWARE\Microsoft\Windows\CurrentVersion\Policies\System key > right click > new > DWORD <br />
	- Create a new DWORD (32-bit) value with the following properties:  Name: LocalAccountTokenFilterPolicy  Value: 1  <br/>
<img src="https://i.imgur.com/2vggOzI.png" height="80%" width="90%" alt="Cybersecurity Vulnerability Management"/>
<br />
	- Close Registry Editor  <br />
	- Restart the VM <br />

<h3>Make Configurations for Credentialed Scans (Within VM):</h3>
- Go to Configuration → Credentials → New Credential <br />
	- Name / Comment → “Azure VM Credentials” <br />
	- Allow Insecure Use: Yes <br />
	- Username: azureuser <br />
	- Password: Cyberlab123! <br />
	- Save  <br/>
<img src="https://i.imgur.com/7htYMgY.png" height="80%" width="90%" alt="Cybersecurity Vulnerability Management"/>
<br />
- Go to Configuration → Targets → CLONE the Target we made before <br />
	- NEW Name / Comment: “Azure Vulnerable VMs - Credentialed Scan” <br />
	- Ensure the Private IP is still accurate <br />
	- Credentials → SMB → Select the Credentials we just made: Azure VM Credentials <br />
	- Save  <br/>
<img src="https://i.imgur.com/KvOOCR3.png" height="80%" width="90%" alt="Cybersecurity Vulnerability Management"/>

<h3>Execute Credentialed Scan against our Vulnerable Windows VM:</h3>
- Within Greenbone / OpenVAS, go to Scans → Tasks <br />
- CLONE the “Scan - Azure Vulnerable VMs” Task, then Edit it: <br />
	- Name / Comment → “Scan - Azure Vulnerable VMs - Credentialed” <br />
	- Targets: Azure Vulnerable VMs - Credentialed Scan <br />
	- Save  <br/>
<img src="https://i.imgur.com/RiHX7mw.png" height="80%" width="90%" alt="Cybersecurity Vulnerability Management"/>
<br />
- Click the Play button to launch the new Credentialed Scan, wait for it to finish <br />
	- It will take longer than the last one. Wait for it to finish <br />
- After the credentialed scan finishes, you can immediately see the difference in findings  <br/>
<img src="https://i.imgur.com/qvgnEdu.png" height="80%" width="90%" alt="Cybersecurity Vulnerability Management"/>
<br />
Below are the findings:  <br/>
<img src="https://i.imgur.com/7xiF0ui.png" height="80%" width="90%" alt="Cybersecurity Vulnerability Management"/>

<h3>Remediate Vulnerabilities:</h3>
- Log back into your Win10-Vulnerable VM <br />
- Uninstall Adobe Reader, VLC Player, and Firefox <br />
- Restart the VM  <br/>
<img src="https://i.imgur.com/PcMtgFf.png" height="80%" width="90%" alt="Cybersecurity Vulnerability Management"/>

<h3>Verify Remediations:</h3>
Re-initiate the “Scan - Azure Vulnerable VMs - Credentialed” scan and observe the results.  <br/>
<img src="https://i.imgur.com/kL46Khg.png" height="80%" width="90%" alt="Cybersecurity Vulnerability Management"/>
<br />
<br />
</p>

<!--
 ```diff
- text in red
+ text in green
! text in orange
# text in gray
@@ text in purple (and bold)@@
```
--!>

